/*!
 * tiny-dict-vue.js
 * version: 1.0.6
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("memoizee"),require("vue")):"function"==typeof define&&define.amd?define(["memoizee","vue"],t):"object"==typeof exports?exports["TINY-DICT-VUE"]=t(require("memoizee"),require("vue")):e["TINY-DICT-VUE"]=t(e.memoizee,e.vue)}(self,(function(e,t){return(()=>{"use strict";var r={596:(e,t,r)=>{function n(e,t){void 0===t&&(t=location.href);var r=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=n?n.match(t):null;return r?unescape(r[2]):null},n=t.split("?")[1];return c(e)?e.map((function(e){return r(e)})):r(e)}function o(e,t){return void 0===t&&(t=1),""+Array(t).fill(0).join("")+e}function i(e){return Object.prototype.toString.call(e).slice(8,-1)}function a(e){return"String"===i(e)}function u(e){return"Object"===i(e)}function c(e){return"Array"===i(e)}function f(e){return"Date"===i(e)}function s(e){return"Number"===i(e)}function l(e){return"Symbol"===i(e)}function p(e,t){void 0===t&&(t="yyyy-MM-dd");var r={"y+":e.getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};return Object.entries(r).forEach((function(e){var r=e[0],n=e[1];new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,n<10?o(n):n))})),t}function h(e,t){void 0===t&&(t="dd:hh:mm:ss");var r=6e4,n=36e5,i=864e5,a=Math.floor(e/i);e-=a*i;var u=Math.floor(e/n);e-=u*n;var c=Math.floor(e/r);e-=c*r;var f={"d+":a,"h+":u,"m+":c,"s+":Math.floor(e/1e3)};return Object.entries(f).forEach((function(e){var r=e[0],n=e[1];new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,n<10?o(n):n))})),t}function v(e){var t=Number(e);return isNaN(t)?e:t}function y(e){var t=void 0===e?{}:e,r=t.offset,n=void 0===r?0:r,o=t.fmt,i=new Date;return i.setMonth(i.getMonth()+n),i.setDate(1),i.setHours(0,0,0,0),o?p(i,o):i}function d(e){var t=void 0===e?{}:e,r=t.offset,n=void 0===r?0:r,o=t.fmt,i=new Date;return i.setMonth(i.getMonth()+1+n),i.setDate(0),i.setHours(23,59,59,999),o?p(i,o):i}function m(e){var t=void 0===e?{}:e,r=t.offset,n=void 0===r?0:r,o=t.fmt;return[y({offset:n,fmt:o}),d({offset:n,fmt:o})]}function g(e){var t=void 0===e?{}:e,r=t.offset,n=void 0===r?0:r,o=t.fmt,i=new Date,a=i.getDate(),u=i.getDay()||7,c=new Date;c.setDate(a+(7*n+1-u)),c.setHours(0,0,0,0);var f=new Date;return f.setDate(a+(7*(n+1)-u)),f.setHours(23,59,59,999),o?[p(c,o),p(f,o)]:[c,f]}function b(e,t){void 0===t&&(t=!1);var r=e.substr(e.lastIndexOf(".")+1);return t?r.toUpperCase():r.toLowerCase()}function M(e){return null==e||""===e}function x(e){if(e){var t={};return Object.entries(e).forEach((function(e){var r=e[0],n=e[1];M(n)||(t[r]=n)})),t}}function w(e){var t={};return Object.entries(e).forEach((function(e){var r=e[0],n=e[1];if(u(n)||c(n))try{t[r]=JSON.stringify(n)}catch(e){t[r]=n}else t[r]=n})),t}function O(e){var t=document.createElement("div");t.innerText=e;var r=t.innerHTML;return t=null,r}function j(e){var t=document.createElement("div");t.innerHTML=e;var r=t.innerText;return t=null,r}r.r(t),r.d(t,{getQueryString:()=>n,fillz:()=>o,toRawType:()=>i,isString:()=>a,isObject:()=>u,isArray:()=>c,isDate:()=>f,isNumber:()=>s,isSymbol:()=>l,formatDate:()=>p,formatTime:()=>h,toNumber:()=>v,getFirstDateOfMonth:()=>y,getLastDateOfMonth:()=>d,getRangeDateOfMonth:()=>m,getRangeDateOfWeek:()=>g,getSuffix:()=>b,isEmpty:()=>M,pruneEmpty:()=>x,serialize:()=>w,encodeHTML:()=>O,decodeHTML:()=>j})},417:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function u(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(48),a=r(596),u=r(103),c=r(103),f=!!u.reactive,s={async:!1,data:[],props:{label:"label",value:"value",children:"children"}},l={async:50,filter:100},p=function(){function e(e){this.config=e.config,this.max=Object.assign(l,e.max),this.store=f?u.reactive({}):c.default.observable({}),this.asyncMemo=this.createAsyncMemo(),this.filterMemo=this.createFilterMemo()}return Object.defineProperty(e.prototype,"reactive",{get:function(){var e=this;return{get:function(t){return Reflect.has(e.store,t)||e.get(t),e.store[t]},filter:function(t){var r=t.key;return Reflect.has(e.store,r)?e.getFilterValue(t):(e.get(r),null)}}},enumerable:!1,configurable:!0}),e.prototype.createAsyncMemo=function(){var e=this,t={promise:!0,max:this.max.async};return i((function(t){return n(e,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getConfig(t).data()];case 1:return[2,r.sent()];case 2:return e=r.sent(),this.deleteAsyncCache(t),Promise.reject(e),[3,3];case 3:return[2]}}))}))}),t)},e.prototype.createFilterMemo=function(){var e=this,t={max:this.max.filter};return i((function(t,r){return e.excuteFilter(e.store[t],r,e.getConfig(t).props)}),t)},e.prototype.excuteFilter=function(e,t,r){if(!e)return null;for(var n=0;n<e.length;n++){var o=e[n];if(a.toNumber(o[r.value])===a.toNumber(t))return o;var i=o[r.children];if(i){var u=this.excuteFilter(i,t,r);if(u)return u}}return null},e.prototype.addStoreProp=function(e,t){Reflect.has(this.store,e)||(f?this.store[e]=t:c.default.set(this.store,e,t))},e.prototype.deleteStoreProp=function(e){return Reflect.deleteProperty(this.store,e)},e.prototype.getFilterValue=function(e){var t=e.key,r=e.value,n=e.returnLabel,o=e.propKey,i=this.getConfig(t).props,a=this.filterMemo(t,r);if(a){if(n)return a[null==i?void 0:i.label];if(o)return Array.isArray(o)?o.map((function(e){return a[e]})):a[o]}return a},e.prototype.getConfig=function(e){var t=Object.assign({},s,this.config[e]);return t.props=Object.assign({},s.props,this.config[e].props),t},e.prototype.get=function(e){var t=this;return new Promise((function(r,n){var o=t.getConfig(e);if(o){var i=o.async,a=o.data;i&&"function"==typeof a?t.asyncMemo(e).then((function(n){t.addStoreProp(e,n),r(n)})).catch((function(e){return n(e)})):(t.addStoreProp(e,a),r(a))}else r([])}))},e.prototype.fetch=function(e){return this.deleteStoreProp(e),this.deleteAsyncCache(e),this.clearFilterCache(),this.get(e)},e.prototype.filter=function(e){var t=this;return new Promise((function(r,n){t.get(e.key).then((function(){return r(t.getFilterValue(e))})).catch((function(e){return n(e)}))}))},e.prototype.deleteAsyncCache=function(e){return this.asyncMemo.delete(e)},e.prototype.clearAsyncCache=function(){this.asyncMemo.clear()},e.prototype.clearFilterCache=function(){this.filterMemo.clear()},e}();t.default=p},48:t=>{t.exports=e},103:e=>{e.exports=t}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e].call(i.exports,i,i.exports,o),i.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0});var t=o(417);e.default=t.default})(),i})()}));